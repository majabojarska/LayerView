name: lint

on: [ push ]

jobs:
    lint:
        runs-on: ubuntu-20.04
        strategy:
            matrix:
                python-version: [ 3.8 ]
        steps:
            -   uses: actions/checkout@v2
            -   name: Set up Python ${{ matrix.python-version }}$
                uses: actions/setup-python@v2
                with:
                    python-version: ${{ matrix.python-version }}
            -   name: Install dependencies
                run: |
                    python -m pip install --upgrade pip
                    pip install poetry tox tox-gh-actions
            -   name: Test with tox
                run: tox -e lint
    format:
        runs-on: ubuntu-20.04
        strategy:
            matrix:
                python-version: [ 3.8 ]
        steps:
            -   uses: actions/checkout@v2
            -   name: Set up Python ${{ matrix.python-version }}$
                uses: actions/setup-python@v2
                with:
                    python-version: ${{ matrix.python-version }}
            -   name: Install dependencies
                run: |
                    python -m pip install --upgrade pip
                    pip install poetry tox tox-gh-actions
            -   name: Test with tox
                run: tox -e format
